<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Bio::NeXML::Mapper::Framework
  
    &mdash; Documentation by YARD 0.7.5
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (F)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../Bio.html" title="Bio (module)">Bio</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../NeXML.html" title="Bio::NeXML (module)">NeXML</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Mapper.html" title="Bio::NeXML::Mapper (module)">Mapper</a></span></span>
     &raquo; 
    <span class="title">Framework</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Bio::NeXML::Mapper::Framework
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/bio/db/nexml/mapper/framework.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Framework is the real workhorse of Mapper.
</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#belongs_to-instance_method" title="#belongs_to (instance method)">- (Object) <strong>belongs_to</strong>(name, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Define a source for the target.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_n-instance_method" title="#has_n (instance method)">- (Object) <strong>has_n</strong>(target, options = {}) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Define target set for the source.
</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="belongs_to-instance_method">
  
    - (<tt>Object</tt>) <strong>belongs_to</strong>(name, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Define a source for the target.
</p>
<pre class="code ruby"><code>
   <span class='id identifier rubyid_belongs_to'>belongs_to</span> <span class='symbol'>:source</span></code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/db/nexml/mapper/framework.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_belongs_to'>belongs_to</span><span class='lparen'>(</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_update'>update</span> <span class='op'>=</span> <span class='lparen'>(</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span> <span class='symbol'>:update</span> <span class='rbracket'>]</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>

  <span class='comment'># create attribute reader for source
</span>  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='id identifier rubyid_name'>name</span>

  <span class='comment'># Add this target to a source.
</span>  <span class='comment'>#    def add_to_source( source )
</span>  <span class='comment'>#      return if @source == source or source.nil?
</span>  <span class='comment'>#      @source = source
</span>  <span class='comment'>#      source.add_target( self )
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add_to_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span><span class='op'>|</span>
    <span class='comment'># return if the target already belongs to
</span>    <span class='comment'># the given source or if the source is nil.
</span>    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_ivget'>ivget</span><span class='lparen'>(</span> <span class='id identifier rubyid_name'>name</span> <span class='rparen'>)</span> <span class='op'>==</span> <span class='id identifier rubyid_source'>source</span> <span class='kw'>or</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='comment'># add source and send a message to source
</span>    <span class='comment'># to add self as target.
</span>    <span class='id identifier rubyid_ivset'>ivset</span><span class='lparen'>(</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_update'>update</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>self</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Set or remove source.
</span>  <span class='comment'>#    def source=( source )
</span>  <span class='comment'>#      return remove_from_source if source.nil?
</span>  <span class='comment'>#      return add_to_source( self )
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_source'>source</span><span class='comma'>,</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remove_from_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add_to_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_source'>source</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Remove this target from an existing source.
</span>  <span class='comment'>#    def remove_from_source
</span>  <span class='comment'>#      return unless source = @source
</span>  <span class='comment'>#      @source = nil
</span>  <span class='comment'>#      source.delete_target( self )
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>remove_from_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='comment'># return if a sourc is not set.
</span>    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_ivget'>ivget</span><span class='lparen'>(</span> <span class='id identifier rubyid_name'>name</span> <span class='rparen'>)</span>

    <span class='comment'># remove source and send a message to source
</span>    <span class='comment'># to remove itself as target.
</span>    <span class='id identifier rubyid_ivset'>ivset</span><span class='lparen'>(</span> <span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='kw'>nil</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delete_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_update'>update</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>self</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="has_n-instance_method">
  
    - (<tt>Object</tt>) <strong>has_n</strong>(target, options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Define target set for the source.
</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/bio/db/nexml/mapper/framework.rb', line 62</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_n'>has_n</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span> <span class='rparen'>)</span>
  <span class='id identifier rubyid_name'>name</span> <span class='op'>=</span> <span class='lparen'>(</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span> <span class='symbol'>:singularize</span> <span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='id identifier rubyid_target'>target</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_singular'>singular</span>
  <span class='id identifier rubyid_type'>type</span> <span class='op'>=</span> <span class='lparen'>(</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span> <span class='symbol'>:index</span> <span class='rbracket'>]</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='rparen'>)</span> <span class='op'>?</span> <span class='const'>ArrayRepository</span> <span class='op'>:</span> <span class='const'>HashRepository</span>
  <span class='id identifier rubyid_update'>update</span> <span class='op'>=</span> <span class='lparen'>(</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span> <span class='symbol'>:update</span> <span class='rbracket'>]</span> <span class='op'>||</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_key'>key</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>

  <span class='comment'># Return an Array of targets.
</span>  <span class='comment'>#    def targets
</span>  <span class='comment'>#      @targets.objects
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span> <span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_objects'>objects</span>
  <span class='kw'>end</span>

  <span class='comment'># Set an Array as a target.
</span>  <span class='comment'>#    def targets=( targets )
</span>  <span class='comment'>#      @targets.clear
</span>  <span class='comment'>#      targets.each do |t|
</span>  <span class='comment'>#        add_target( t )
</span>  <span class='comment'>#      end
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_target'>target</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_objects'>objects</span><span class='comma'>,</span><span class='op'>|</span>
    <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_objects'>objects</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_o'>o</span><span class='op'>|</span>                     
      <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_o'>o</span> <span class='rparen'>)</span>  
    <span class='kw'>end</span>                        
  <span class='kw'>end</span>                         

  <span class='comment'># Add a target.
</span>  <span class='comment'>#    def add_target( target )
</span>  <span class='comment'>#      return if @targets.include?( target )
</span>  <span class='comment'>#      @targets.append( target )
</span>  <span class='comment'>#      target.source = self
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>add_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span><span class='op'>|</span>
    <span class='id identifier rubyid_repository'>repository</span> <span class='op'>=</span> <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_repository'>repository</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span> <span class='id identifier rubyid_object'>object</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_repository'>repository</span><span class='period'>.</span><span class='id identifier rubyid_append'>append</span><span class='lparen'>(</span> <span class='id identifier rubyid_object'>object</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_update'>update</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>self</span> <span class='rparen'>)</span>
    <span class='kw'>self</span>
  <span class='kw'>end</span>

  <span class='comment'># Delete a target.
</span>  <span class='comment'>#    def delete_target( target )
</span>  <span class='comment'>#      return unless @targets.include?( target )
</span>  <span class='comment'>#      return unless deleted = @targets.delete( target )
</span>  <span class='comment'>#      target.source = nil
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>delete_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span><span class='op'>|</span>
    <span class='id identifier rubyid_repository'>repository</span> <span class='op'>=</span> <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>unless</span> <span class='id identifier rubyid_deleted'>deleted</span> <span class='op'>=</span> <span class='id identifier rubyid_repository'>repository</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span> <span class='id identifier rubyid_object'>object</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_update'>update</span><span class='rbrace'>}</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>nil</span> <span class='rparen'>)</span>
    <span class='id identifier rubyid_deleted'>deleted</span>
  <span class='kw'>end</span>                                          

  <span class='comment'># Return the number of targets a source has.
</span>  <span class='comment'>#    def number_of_targets
</span>  <span class='comment'>#      @targets.length
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>number_of_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_target'>target</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>end</span>

  <span class='comment'># Return true if the source has the given target.
</span>  <span class='comment'>#    def has_target?( target )
</span>  <span class='comment'>#      @targets.include?( target )
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>has_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span><span class='op'>|</span>
    <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span> <span class='id identifier rubyid_object'>object</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='comment'># Iterate over each target.
</span>  <span class='comment'>#    def each( &amp;block )
</span>  <span class='comment'>#      @targets.each( &amp;block )
</span>  <span class='comment'>#    end
</span>  <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>each_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
    <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span> <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='const'>HashRepository</span>
    <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>get_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>_by_id</span><span class='tstring_end'>&quot;</span></span> <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='op'>|</span>
      <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span> <span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span> <span class='rparen'>)</span><span class='lbracket'>[</span> <span class='id identifier rubyid_id'>id</span> <span class='rbracket'>]</span>          
    <span class='kw'>end</span>                                        

    <span class='id identifier rubyid_define_method'>define_method</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>each_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_name'>name</span><span class='rbrace'>}</span><span class='tstring_content'>_with_id</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='op'>|</span>
      <span class='id identifier rubyid_repository'>repository</span><span class='lparen'>(</span><span class='id identifier rubyid_target'>target</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each_with_id'>each_with_id</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Mar 29 12:34:02 2012 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.5 (ruby-1.9.2).
</div>

  </body>
</html>